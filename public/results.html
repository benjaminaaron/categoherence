<!doctype html>
<html>
    <head>
        <title>grouping analysis - results</title>
        <script src='/socket.io/socket.io.js'></script>
        <script src="lib/main.js"></script>
        <link rel="stylesheet" type="text/css" href="lib/main.css">
        <style></style>
    </head>
    <body>
        <div id="session-info" />
        <table id="results-table" />
        
        <script src="lib/notie.js"></script>
        <script>
            var socket = io();
            
            socket.emit('login-results', getSessionIdFromURL());
            
            socket.on('session-results', function(data) {
                var infoHTML = 'results for session <b>' + data.info.name + '</b> <small>(' + getFormattedTimestamp(data.info.timestamp) + ')</small><br>';
                if(data.info.options.description.length > 0)
                    infoHTML += '<i>' + data.info.options.description + '</i><br>';
                document.getElementById('session-info').innerHTML = infoHTML;
                
                console.log(data.leaderboard);
                
            });
            
            setupNotie(notie, socket);
        </script>
    </body>
</html>
